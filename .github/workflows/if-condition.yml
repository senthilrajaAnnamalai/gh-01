name: if-condition
on: workflow_dispatch
jobs:
  condtional-job:
    runs-on: ubuntu-latest
    steps:
      - name: Get OS info
        id: osinfo
        run: |
          result=$(echo `head -n1 /etc/issue`)
          echo "result=$result" >> $GITHUB_OUTPUT
      - name: git repo
        run: |
          echo ${{ github.repository}}         
      - name: Download TF
        id: ver175
        if: contains(steps.osinfo.outputs.result, 'Ubuntu 22.04') == true
        run: |          
          wget  https://releases.hashicorp.com/terraform/1.75/terraform_1.75_linux_amd64.zip
      - name : Install Terraform
        if: steps.ver175.outcome == 'success'
        run : |
          sudo unzip -o terraform_1.75_linux_amd64.zip -d /usr/local/bin
          terraform -version
      - name: Download TF 
        if: contains(steps.osinfo.outputs.result, 'Ubuntu 22.04') != true
        run: |          
          wget  https://releases.hashicorp.com/terraform/1.65/terraform_1.65_linux_amd64.zip
          sudo unzip -o terraform_1.65_linux_amd64.zip -d /usr/local/bin
          terraform -version
          
